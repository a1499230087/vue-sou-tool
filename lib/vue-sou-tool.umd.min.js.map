{"version":3,"file":"vue-sou-tool.umd.min.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,kBAAZC,SAA0C,kBAAXC,OACxCA,OAAOD,QAAUD,IACQ,oBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,kBAAZC,QACdA,QAAQ,gBAAkBD,IAE1BD,EAAK,gBAAkBC,GACxB,EATD,CASoB,qBAATK,KAAuBA,KAAOC,MAAO,WAChD,O,wBCTA,IAAIC,EAAsB,CAAC,G,WCA3BA,EAAoBC,EAAI,SAASP,EAASQ,GACzC,IAAI,IAAIC,KAAOD,EACXF,EAAoBI,EAAEF,EAAYC,KAASH,EAAoBI,EAAEV,EAASS,IAC5EE,OAAOC,eAAeZ,EAASS,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAG3E,C,eCPAH,EAAoBI,EAAI,SAASK,EAAKC,GAAQ,OAAOL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,EAAO,C,eCCtGV,EAAoBc,EAAI,SAASpB,GACX,qBAAXqB,QAA0BA,OAAOC,aAC1CX,OAAOC,eAAeZ,EAASqB,OAAOC,YAAa,CAAEC,MAAO,WAE7DZ,OAAOC,eAAeZ,EAAS,aAAc,CAAEuB,OAAO,GACvD,C,eCNAjB,EAAoBkB,EAAI,E,aCGxB,G,0EAAsB,qBAAXC,OAAwB,CACjC,IAAIC,EAAgBD,OAAOE,SAASD,cAWhCE,EAAMF,GAAiBA,EAAcE,IAAIC,MAAM,2BAC/CD,IACF,IAA0BA,EAAI,GAElC,CCRO,MAAME,EAAmB,SAAUC,GAEtC,GAAID,EAAQE,UACR,MAAM,IAAIC,MAAM,YAGpB,OADAH,EAAQE,WAAY,EACb,CACHF,QAAS,SAAUI,EAAqBC,GACpCJ,EAASG,EACb,EAER,ECjBA,IAAIE,EACAC,EACJ,MAAMC,EAAU,CACZC,MAAAA,CAAOC,GAEH,MAAMC,EAAQD,EAAGE,cAAc,iBAC3BD,IACAA,EAAME,oBAAoB,SAAUP,GAAQ,GACxCC,GACAG,EAAGG,oBAAoB,QAASN,GAAO,GAGnD,EACAO,KAAMA,CAACJ,EAAiBK,EAA2BC,KAE/C,IAAIL,EAAQD,EAAGE,cAAc,iBACxBD,IACDA,EAAQd,SAASoB,cAAc,SAC/BN,EAAMO,UAAY,eAClBP,EAAMQ,KAAO,OACbR,EAAMS,SAA0B,YAAfL,EAAQM,IACzBV,EAAMW,MAAMC,QAAU,OACtBb,EAAGc,YAAYb,IAEnBL,EAAUmB,IACN,MAAMC,EAASD,EAAMC,OACrBC,QAAQC,IAAIF,GAEZ,MAAM,MAAEG,GAAUH,EAGlB,GAFAA,EAAOP,KAAO,OACdO,EAAOP,KAAO,OACVJ,EAAQtB,OAAkC,oBAAlBsB,EAAQtB,MAAsB,CACtD,MAAMqC,EAAUf,EAAQtB,MACxBqC,EAAOC,MAAM,KAAM,CAACF,EAAOH,EAAQhB,G,GAI3CA,EAAGsB,iBAAiB,SAAU1B,GAAQ,GACtCC,EAAQA,KAGJI,EAAMsB,OAAO,EAEjBvB,EAAGsB,iBAAiB,QAASzB,GAAO,EAAM,GAIlD,MAAeP,GAASI,IACpBA,EAAI8B,UAAU,WAAY1B,EAAQ,IChDtCmB,QAAQC,IAAIpB,GAGZ,MAAM2B,EAA+B,GAQ/BnC,EAAmB,SAAUI,GAE3BJ,EAAQE,YACZF,EAAQE,WAAY,EAEpBiC,EAAWC,KAAIC,IACXjC,EAAIiC,UAAUA,EAAUC,KAAMD,EAAU,IAEhD,EAGsB,qBAAX1C,QAA0BA,OAAOS,KACxCJ,EAAQL,OAAOS,KAGnB,OAEIJ,QAAO,KAEJmC,GCjCP,I","sources":["webpack://vue-sou-tool/webpack/universalModuleDefinition","webpack://vue-sou-tool/webpack/bootstrap","webpack://vue-sou-tool/webpack/runtime/define property getters","webpack://vue-sou-tool/webpack/runtime/hasOwnProperty shorthand","webpack://vue-sou-tool/webpack/runtime/make namespace object","webpack://vue-sou-tool/webpack/runtime/publicPath","webpack://vue-sou-tool/./node_modules/.pnpm/@vue+cli-service@5.0.1_sass-loader@12.0.0_vue-template-compiler@2.6.14_vue@2.6.14/node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://vue-sou-tool/./packages/util/install.ts","webpack://vue-sou-tool/./packages/directives/sou-file.ts","webpack://vue-sou-tool/./packages/index.ts","webpack://vue-sou-tool/./node_modules/.pnpm/@vue+cli-service@5.0.1_sass-loader@12.0.0_vue-template-compiler@2.6.14_vue@2.6.14/node_modules/@vue/cli-service/lib/commands/build/entry-lib.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vue-sou-tool\"] = factory();\n\telse\n\t\troot[\"vue-sou-tool\"] = factory();\n})((typeof self !== 'undefined' ? self : this), function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","/* eslint-disable no-var */\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","import { PluginObject, VueConstructor } from \"vue\"\n\nexport type InstallCallback = {\n    (Vue: VueConstructor): void\n}\n\nexport type Install = {\n    (callback: InstallCallback): PluginObject<InstallCallback>,\n    installed?: boolean\n}\n// 定义 install 方法，接收 Vue 作为参数。如果使用 use 注册插件，那么所有的组件都会被注册\nexport const install: Install = function (callback: InstallCallback) {\n    // 判断是否安装\n    if (install.installed){\n        throw new Error('请勿重复注册插件')\n    }\n    install.installed = true\n    return {\n        install: function (Vue: VueConstructor, options: any) {\n            callback(Vue)\n        }\n    }\n}\n\n","import { DirectiveOptions, DirectiveFunction, DirectiveBinding } from \"vue/types/options\"\nimport { install } from \"../util/install\";\nimport { VueConstructor } from \"vue\";\n\ntype Directive = DirectiveOptions | DirectiveFunction\nlet Change: (event: Event) => void\nlet Click: () => void\nconst souFile = {\n    unbind(el: HTMLElement) {\n        // console.log(\"销毁\");\n        const input = el.querySelector(\"#__sou-file__\") as HTMLInputElement\n        if (input) {\n            input.removeEventListener(\"change\", Change, false)\n            if (Click) {\n                el.removeEventListener(\"click\", Click, false)\n            }\n        }\n    },\n    bind: (el: HTMLElement, binding: DirectiveBinding, vnode: any) => {\n        // console.log(\"注册\");\n        let input = el.querySelector(\".__sou-file__\") as HTMLInputElement\n        if (!input) {\n            input = document.createElement(\"input\")\n            input.className = \"__sou-file__\"\n            input.type = \"file\"\n            input.multiple = binding.arg == \"multiple\"\n            input.style.display = \"none\"\n            el.appendChild(input)\n        }\n        Change = (event: Event) => {\n            const target = event.target as HTMLInputElement\n            console.log(target);\n            \n            const { files } = target\n            target.type = 'text'\n            target.type = 'file'\n            if (binding.value && typeof binding.value === \"function\") {\n                const handle = (binding.value) as (...params: any) => void\n                handle.apply(null, [files, target, el])\n            }\n        }\n\n        el.addEventListener(\"change\", Change, false)\n        Click = () => {\n            // console.log(el, binding, vnode);\n            // console.dir((el as any).__vue__);\n            input.click()\n        }\n        el.addEventListener(\"click\", Click, false)\n    }\n} as Directive\n\nexport default install((Vue: VueConstructor) => {\n    Vue.directive('sou-file', souFile)\n})","import { VueConstructor } from \"vue\"\nimport souFile from './directives/sou-file'\nexport {\n    souFile\n}\nconsole.log(souFile);\n\n// 把组件保存到一个数组中,可有多个\nconst components: VueConstructor[] = [\n]\n\ntype Install = {\n    (Vue: VueConstructor): void,\n    installed?: boolean\n}\n// 定义 install 方法，接收 Vue 作为参数。如果使用 use 注册插件，那么所有的组件都会被注册\nconst install: Install = function (Vue: VueConstructor) {\n    // 判断是否安装\n    if (install.installed) return\n    install.installed = true\n    // 遍历组件列表并注册全局组件\n    components.map(component => {\n        Vue.component(component.name, component)\n    })\n}\n\n// 判断是否是直接引入文件\nif (typeof window !== 'undefined' && window.Vue) {\n    install(window.Vue)\n}\n\nexport default {\n    // 导出的对象必须具备一个 install 方法，才能被 Vue.use() 方法安装\n    install,\n    // 组件列表\n    ...components\n}\n","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n"],"names":["root","factory","exports","module","define","amd","self","this","__webpack_require__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","p","window","currentScript","document","src","match","install","callback","installed","Error","Vue","options","Change","Click","souFile","unbind","el","input","querySelector","removeEventListener","bind","binding","vnode","createElement","className","type","multiple","arg","style","display","appendChild","event","target","console","log","files","handle","apply","addEventListener","click","directive","components","map","component","name"],"sourceRoot":""}