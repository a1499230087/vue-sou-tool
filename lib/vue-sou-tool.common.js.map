{"version":3,"file":"vue-sou-tool.common.js","mappings":"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","sources":["webpack://vue-sou-tool/webpack/bootstrap","webpack://vue-sou-tool/webpack/runtime/define property getters","webpack://vue-sou-tool/webpack/runtime/hasOwnProperty shorthand","webpack://vue-sou-tool/webpack/runtime/make namespace object","webpack://vue-sou-tool/webpack/runtime/publicPath","webpack://vue-sou-tool/./node_modules/.pnpm/@vue+cli-service@5.0.1_sass-loader@12.0.0_vue-template-compiler@2.6.14_vue@2.6.14/node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://vue-sou-tool/./packages/util/install.ts","webpack://vue-sou-tool/./packages/directives/sou-file.ts","webpack://vue-sou-tool/./packages/index.ts","webpack://vue-sou-tool/./node_modules/.pnpm/@vue+cli-service@5.0.1_sass-loader@12.0.0_vue-template-compiler@2.6.14_vue@2.6.14/node_modules/@vue/cli-service/lib/commands/build/entry-lib.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","/* eslint-disable no-var */\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","import { PluginObject, VueConstructor } from \"vue\"\n\nexport type InstallCallback = {\n    (Vue: VueConstructor): void\n}\n\nexport type Install = {\n    (callback: InstallCallback): PluginObject<InstallCallback>,\n    installed?: boolean\n}\n// 定义 install 方法，接收 Vue 作为参数。如果使用 use 注册插件，那么所有的组件都会被注册\nexport const install: Install = function (callback: InstallCallback) {\n    // 判断是否安装\n    if (install.installed){\n        throw new Error('请勿重复注册插件')\n    }\n    install.installed = true\n    return {\n        install: function (Vue: VueConstructor, options: any) {\n            callback(Vue)\n        }\n    }\n}\n\n","import { DirectiveOptions, DirectiveFunction, DirectiveBinding } from \"vue/types/options\"\nimport { install } from \"../util/install\";\nimport { VueConstructor } from \"vue\";\n\ntype Directive = DirectiveOptions | DirectiveFunction\nlet Change: (event: Event) => void\nlet Click: () => void\nconst souFile = {\n    unbind(el: HTMLElement) {\n        // console.log(\"销毁\");\n        const input = el.querySelector(\"#__sou-file__\") as HTMLInputElement\n        if (input) {\n            input.removeEventListener(\"change\", Change, false)\n            if (Click) {\n                el.removeEventListener(\"click\", Click, false)\n            }\n        }\n    },\n    bind: (el: HTMLElement, binding: DirectiveBinding, vnode: any) => {\n        // console.log(\"注册\");\n        let input = el.querySelector(\".__sou-file__\") as HTMLInputElement\n        if (!input) {\n            input = document.createElement(\"input\")\n            input.className = \"__sou-file__\"\n            input.type = \"file\"\n            input.multiple = binding.arg == \"multiple\"\n            input.style.display = \"none\"\n            el.appendChild(input)\n        }\n        Change = (event: Event) => {\n            const target = event.target as HTMLInputElement\n            console.log(target);\n            \n            const { files } = target\n            target.type = 'text'\n            target.type = 'file'\n            if (binding.value && typeof binding.value === \"function\") {\n                const handle = (binding.value) as (...params: any) => void\n                handle.apply(null, [files, target, el])\n            }\n        }\n\n        el.addEventListener(\"change\", Change, false)\n        Click = () => {\n            // console.log(el, binding, vnode);\n            // console.dir((el as any).__vue__);\n            input.click()\n        }\n        el.addEventListener(\"click\", Click, false)\n    }\n} as Directive\n\nexport default install((Vue: VueConstructor) => {\n    Vue.directive('sou-file', souFile)\n})","import { VueConstructor } from \"vue\"\nimport souFile from './directives/sou-file'\nexport {\n    souFile\n}\nconsole.log(souFile);\n\n// 把组件保存到一个数组中,可有多个\nconst components: VueConstructor[] = [\n]\n\ntype Install = {\n    (Vue: VueConstructor): void,\n    installed?: boolean\n}\n// 定义 install 方法，接收 Vue 作为参数。如果使用 use 注册插件，那么所有的组件都会被注册\nconst install: Install = function (Vue: VueConstructor) {\n    // 判断是否安装\n    if (install.installed) return\n    install.installed = true\n    // 遍历组件列表并注册全局组件\n    components.map(component => {\n        Vue.component(component.name, component)\n    })\n}\n\n// 判断是否是直接引入文件\nif (typeof window !== 'undefined' && window.Vue) {\n    install(window.Vue)\n}\n\nexport default {\n    // 导出的对象必须具备一个 install 方法，才能被 Vue.use() 方法安装\n    install,\n    // 组件列表\n    ...components\n}\n","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n"],"names":["install","callback","installed","Error","Vue","options","Change","Click","souFile","unbind","el","input","querySelector","removeEventListener","bind","binding","vnode","document","createElement","className","type","multiple","arg","style","display","appendChild","event","target","console","log","files","value","handle","apply","addEventListener","click","directive","components","map","component","name","window"],"sourceRoot":""}